{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/24532/Documents/HBuilderProjects/uniapp-kantboot-vue-2/pages/init/init.vue?39c2","webpack:///C:/Users/24532/Documents/HBuilderProjects/uniapp-kantboot-vue-2/pages/init/init.vue?66d1","webpack:///C:/Users/24532/Documents/HBuilderProjects/uniapp-kantboot-vue-2/pages/init/init.vue?3179","webpack:///C:/Users/24532/Documents/HBuilderProjects/uniapp-kantboot-vue-2/pages/init/init.vue?bc05","uni-app:///pages/init/init.vue","webpack:///C:/Users/24532/Documents/HBuilderProjects/uniapp-kantboot-vue-2/pages/init/init.vue?13f8","webpack:///C:/Users/24532/Documents/HBuilderProjects/uniapp-kantboot-vue-2/pages/init/init.vue?bd53"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","AvatarSelect","data","sadomasochismMap","statusBarHeight","filePathOfAvatar","requestParam","fileIdOfAvatar","nickname","gmtBirthday","genderCode","sadomasochismCode","introduction","showOfBirthdaySelect","birthdayRange","min","max","defaultIndex","selectedAvatarPath","selectedBackShowList","ktNavBarHeight","mounted","uni","methods","changeGenderCode","nicknameChange","console","getImageInfo","src","success","resolve","fail","reject","selectBirthday","initSelfInfo","filePath","name","compress","formData","stateSuccess","url","method","onBirthdayConfirm","onBirthdayCancel"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AACkL;AAClL,gBAAgB,2LAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oVAEN;AACP,KAAK;AACL;AACA,aAAa,wRAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,wUAEN;AACP,KAAK;AACL;AACA,aAAa,mWAEN;AACP,KAAK;AACL;AACA,aAAa,0PAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzHA;AAAA;AAAA;AAAA;AAA+pB,CAAgB,orBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC8NnrB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC;IAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACAC;MACA;IACA;IACAC;MACA;QACAL;UACAM;UACAC;YACAC;YACAJ;UACA;UACAK;YACAC;YACAN;UACA;QACA;MACA;IACA;IAEAO;MACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAAA,IAIA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAAA,IAIA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAAA,IAIA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAIA;gBACAR;gBAAA;gBAAA,OACA;kBACA;oBACAS;oBACAC;oBACAC;oBACAC;sBACA;oBACA;oBACAC;sBACA;sBACA;wBACAC;wBACAC;wBACAvC;wBACAqC;0BACA;wBACA;sBACA;sBACAT;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAY;MACA;MACA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/VA;AAAA;AAAA;AAAA;AAAsxC,CAAgB,mvCAAG,EAAC,C;;;;;;;;;;;ACA1yC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/init/init.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/init/init.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./init.vue?vue&type=template&id=71ad41f4&scoped=true&\"\nvar renderjs\nimport script from \"./init.vue?vue&type=script&lang=js&\"\nexport * from \"./init.vue?vue&type=script&lang=js&\"\nimport style0 from \"./init.vue?vue&type=style&index=0&id=71ad41f4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71ad41f4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/init/init.vue\"\nexport default component.exports","export * from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./init.vue?vue&type=template&id=71ad41f4&scoped=true&\"","var components\ntry {\n  components = {\n    ktStatusBarHeight: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uniapp-kantboot/components/kt-status-bar-height/kt-status-bar-height\" */ \"@/uni_modules/uniapp-kantboot/components/kt-status-bar-height/kt-status-bar-height.vue\"\n      )\n    },\n    ktNavBar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uniapp-kantboot/components/kt-nav-bar/kt-nav-bar\" */ \"@/uni_modules/uniapp-kantboot/components/kt-nav-bar/kt-nav-bar.vue\"\n      )\n    },\n    uRow: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-row/u-row\" */ \"@/uni_modules/uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-col/u-col\" */ \"@/uni_modules/uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    ktButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uniapp-kantboot/components/kt-button/kt-button\" */ \"@/uni_modules/uniapp-kantboot/components/kt-button/kt-button.vue\"\n      )\n    },\n    uDatetimePicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker\" */ \"@/uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker.vue\"\n      )\n    },\n    sadomasochismPopup: function () {\n      return import(\n        /* webpackChunkName: \"components/sadomasochism-popup/sadomasochism-popup\" */ \"@/components/sadomasochism-popup/sadomasochism-popup.vue\"\n      )\n    },\n    introductionPopup: function () {\n      return import(\n        /* webpackChunkName: \"components/introduction-popup/introduction-popup\" */ \"@/components/introduction-popup/introduction-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.$kt.file.byPath(\"/icon/info.svg\")\n  var g1 = _vm.selectedBackShowList.length == 0 && !_vm.requestParam.genderCode\n  var g2 = g1 ? _vm.$kt.file.byPath(\"/image/defaultShow.png\") : null\n  var g3 =\n    _vm.selectedBackShowList.length == 0 &&\n    _vm.requestParam.genderCode == \"male\"\n  var g4 = g3 ? _vm.$kt.file.byPath(\"/image/defaultShowOfMale.png\") : null\n  var g5 =\n    _vm.selectedBackShowList.length == 0 &&\n    _vm.requestParam.genderCode == \"female\"\n  var g6 = g5 ? _vm.$kt.file.byPath(\"/image/defaultShowOfFemale.png\") : null\n  var g7 = _vm.requestParam.gmtBirthday\n    ? _vm.$kt.util.dateFormat(_vm.requestParam.gmtBirthday, \"yyyy-MM-dd\")\n    : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.selectedAvatarPath = $event\n    }\n    _vm.e1 = function ($event) {\n      return _vm.$refs.sadomasochismPopup.open(\n        _vm.requestParam.sadomasochismCode\n      )\n    }\n    _vm.e2 = function ($event) {\n      return _vm.$refs.introductionPopup.open(_vm.requestParam.introduction)\n    }\n    _vm.e3 = function ($event) {\n      _vm.requestParam.sadomasochismCode = $event\n    }\n    _vm.e4 = function ($event) {\n      _vm.requestParam.introduction = $event\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n        g7: g7,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./init.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./init.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <view\n        id=\"ktNavBar\"\n        style=\"position: relative\">\n      <kt-status-bar-height></kt-status-bar-height>\n    </view>\n\n    <scroll-view\n        :style=\"'height:calc(100vh - '+ktNavBarHeight+'px)'\"\n    scroll-y\n    >\n      <kt-nav-bar\n          style=\"position: absolute;top: 0;left: 0;right: 0;z-index: 999;\"\n          title=\"初始化个人信息\"\n          border-radius=\" 0 0 30rpx 30rpx\"\n          :icon=\"$kt.file.byPath('/icon/info.svg')\"\n      ></kt-nav-bar>\n\n      <view class=\"box\">\n        <view style=\"height: 350rpx\"></view>\n        <view class=\"back-info\">\n          <image\n              v-if=\"selectedBackShowList.length==0&&!requestParam.genderCode\"\n              :src=\"$kt.file.byPath('/image/defaultShow.png')\"\n          class=\"back-info-img\"\n                 mode=\"aspectFill\"\n          ></image>\n\n          <image\n              v-if=\"selectedBackShowList.length==0&&requestParam.genderCode=='male'\"\n              :src=\"$kt.file.byPath('/image/defaultShowOfMale.png')\"\n              class=\"back-info-img\"\n              mode=\"aspectFill\"\n          ></image>\n\n          <image\n              v-if=\"selectedBackShowList.length==0&&requestParam.genderCode=='female'\"\n              :src=\"$kt.file.byPath('/image/defaultShowOfFemale.png')\"\n              class=\"back-info-img\"\n              mode=\"aspectFill\"\n          ></image>\n\n          <view\n              style=\"position: absolute;\n      bottom: -2rpx;\n      left: 0;\n      width: 100%;\n      height: 30rpx;\n      background-color: #FFFFFF;\n      border-radius: 30rpx 30rpx 0 0;\"\n          ></view>\n\n        </view>\n        <AvatarSelect :gender-code=\"requestParam.genderCode\"\n                      @change=\"selectedAvatarPath = $event\"\n        ></AvatarSelect>\n\n        <!-- 昵称 -->\n        <view style=\"height: 20px\"></view>\n        <view class=\"box-box\">\n          <view class=\"input-box\">\n            <u-row>\n              <u-col :span=\"2\">\n                <u-icon name=\"edit-pen\" :size=\"'50rpx'\" color=\"#333333\"></u-icon>\n              </u-col>\n              <u-col :span=\"8\">\n                <input\n                    type=\"nickname\"\n                    @blur=\"nicknameChange\"\n                    style=\"border: none;\n                    text-align: center;\n                    background-color: rgba(0,0,0,0)\"\n                    :placeholder=\"'昵称'\"\n                    v-model=\"requestParam.nickname\"\n                ></input>\n              </u-col>\n            </u-row>\n          </view>\n        </view>\n\n        <!-- 生日 -->\n        <view style=\"height: 20px\"></view>\n        <view class=\"box-box\">\n          <view class=\"input-box\"\n                @click=\"selectBirthday()\"\n          >\n            <u-row>\n              <u-col :span=\"2\">\n                <u-icon name=\"calendar\" :size=\"'50rpx'\" color=\"#333333\"></u-icon>\n              </u-col>\n              <u-col :span=\"8\">\n                <view v-if=\"requestParam.gmtBirthday\" style=\"text-align: center\">\n                  {{ $kt.util.dateFormat(requestParam.gmtBirthday, \"yyyy-MM-dd\") }}\n                </view>\n                <view v-else style=\"text-align: center;color:#666666;\">选择生日</view>\n              </u-col>\n            </u-row>\n          </view>\n        </view>\n\n        <!-- 性别 -->\n        <view style=\"height: 20px\"></view>\n        <view class=\"box-box\">\n          <view>\n            <u-row>\n              <u-col :span=\"5.8\">\n                <view :class=\"requestParam.genderCode == 'male'?'sex-btn sex-btn-active':'sex-btn'\"\n                      :style=\"requestParam.genderCode=='male'?'border: 5rpx solid #3c9cff;':''\"\n                      @click=\"changeGenderCode('male')\"\n                      style=\"font-weight: bold;color: #3c9cff;\"\n                >♂\n                </view>\n              </u-col>\n              <u-col :span=\"0.4\"></u-col>\n              <u-col :span=\"5.8\">\n                <view :class=\"requestParam.genderCode == 'female'?'sex-btn sex-btn-active':'sex-btn'\"\n                      :style=\"requestParam.genderCode=='female'?'border: 5rpx solid #f56c6c;':''\"\n                      @click=\"changeGenderCode('female')\"\n                      style=\"font-weight: bold;color: #f56c6c;\"\n                >♀\n                </view>\n              </u-col>\n            </u-row>\n\n          </view>\n\n        </view>\n\n        <!-- sadomasochism -->\n        <view style=\"height: 20px\"></view>\n        <view class=\"box-box\">\n          <view class=\"input-box\"\n                @click=\"$refs.sadomasochismPopup.open(requestParam.sadomasochismCode)\"\n          >\n            <u-row>\n              <u-col :span=\"2\">\n                <u-icon name=\"SM\" :size=\"'30rpx'\" color=\"#333333\"></u-icon>\n              </u-col>\n              <u-col :span=\"8\">\n                <view style=\"height: 10rpx\"></view>\n                <view style=\"text-align: center;color:#000000;\"\n                v-if=\"requestParam.sadomasochismCode\"\n                >{{sadomasochismMap[requestParam.sadomasochismCode]}}</view>\n                <view\n                    v-else\n                    style=\"text-align: center;color:#666666;\">选择属性</view>\n                <view style=\"height: 10rpx\"></view>\n              </u-col>\n            </u-row>\n          </view>\n        </view>\n\n        <view style=\"height: 20px\"></view>\n        <view class=\"box-box\">\n          <view class=\"input-box\"\n                @click=\"$refs.introductionPopup.open(requestParam.introduction)\"\n          >\n            <u-row>\n              <u-col :span=\"2\">\n                <u-icon name=\"tags-fill\" :size=\"'50rpx'\" color=\"#333333\"></u-icon>\n              </u-col>\n              <u-col :span=\"8\">\n                <view style=\"height: 10rpx\"></view>\n                <view\n                v-if=\"requestParam.introduction\"\n                class=\"text-ellipsis\"\n                >\n                  {{requestParam.introduction}}\n                </view>\n                <view\n                    v-else\n                    style=\"text-align: center;color:#666666;\">自我介绍</view>\n                <view style=\"height: 10rpx\"></view>\n              </u-col>\n            </u-row>\n          </view>\n        </view>\n\n          <!-- 下一步 -->\n          <view style=\"height: 20px\"></view>\n          <view class=\"box-box\">\n            <kt-button\n                class=\"bottom\"\n                ref=\"ktButton\"\n                @click=\"initSelfInfo()\"\n            >下一步\n            </kt-button>\n          </view>\n\n        </view>\n\n    </scroll-view>\n    <u-datetime-picker\n        :show=\"showOfBirthdaySelect\"\n        v-model=\"requestParam.gmtBirthday\"\n        mode=\"date\"\n        confirmColor=\"#000\"\n        :borderRadius=\"20\"\n        :item-height=\"100\"\n        :closeOnClickOverlay=\"true\"\n        @close=\"onBirthdayCancel\"\n        @cancel=\"onBirthdayCancel\"\n        @confirm=\"onBirthdayConfirm\"\n        :min-date=\"birthdayRange.min\"\n        :max-date=\"birthdayRange.max\"\n        :default-index=\"birthdayRange.defaultIndex\"\n    ></u-datetime-picker>\n\n    <sadomasochism-popup ref=\"sadomasochismPopup\"\n    @change=\"requestParam.sadomasochismCode = $event\"\n    ></sadomasochism-popup>\n\n    <introduction-popup ref=\"introductionPopup\"\n    @change=\"requestParam.introduction = $event\"\n    ></introduction-popup>\n\n  </view>\n</template>\n\n<script>\nimport AvatarSelect from \"@/pages/init/components/AvatarSelect.vue\";\nimport common from \"@/commonJs/common\";\n\nexport default {\n  // 导入组件\n  components: {\n    AvatarSelect\n  },\n  data() {\n    return {\n      sadomasochismMap: common.sadomasochismMap,\n      statusBarHeight: 0,\n      // 状态栏高度\n      filePathOfAvatar: '',\n      requestParam: {\n        fileIdOfAvatar: '',\n        nickname: '',\n        gmtBirthday: '',\n        genderCode: '',\n        sadomasochismCode: '',\n        introduction: ''\n      },\n      showOfBirthdaySelect: false,\n      // 生日区间\n      birthdayRange: {\n        min: new Date(1970, 0, 1).getTime(),\n        max: new Date().getTime(),\n        defaultIndex: []\n      },\n      // 选择的头像path\n      selectedAvatarPath: null,\n      // 选择的背景展示数组\n      selectedBackShowList: [],\n      // 获取ktNavBar组件的高度\n      ktNavBarHeight: 0\n    }\n  },\n  mounted() {\n    this.statusBarHeight = uni.getSystemInfoSync().statusBarHeight;\n    // 设置生日区间的最大值必须满18岁，按年月日计算\n    this.birthdayRange.max = new Date(new Date().getFullYear() - 18, new Date().getMonth(), new Date().getDate()).getTime();\n    // 默认时间为this.birthdayRange.max\n    this.birthdayRange.defaultIndex = [new Date().getFullYear() - 18 - 1900, new Date().getMonth(), new Date().getDate() - 1];\n    // 获取ktNavBar组件的高度\n    uni.createSelectorQuery().select('#ktNavBar').boundingClientRect((rect) => {\n      this.ktNavBarHeight = rect.height;\n    }).exec();\n  },\n  methods: {\n    changeGenderCode(genderCode) {\n      this.requestParam.genderCode = genderCode;\n    },\n    nicknameChange(e) {\n      console.log(e);\n      this.requestParam.nickname = e.detail.value;\n    },\n    getImageInfo(imgSrc) {\n      return new Promise((resolve, reject) => {\n        uni.getImageInfo({\n          src: imgSrc,\n          success: (image) => {\n            resolve(image);\n            console.log('获取图片成功', image)\n          },\n          fail: (err) => {\n            reject(err);\n            console.log('获取图片失败', err)\n          }\n        });\n      });\n    },\n\n    selectBirthday() {\n      this.showOfBirthdaySelect = true;\n    },\n    async initSelfInfo() {\n      if (!this.selectedAvatarPath) {\n        this.$refs.ktButton.error(\"请选择头像\");\n        return;\n      }\n\n      if (!this.requestParam.nickname) {\n        this.$refs.ktButton.error(\"请输入昵称\");\n        return;\n      }\n\n      if (!this.requestParam.gmtBirthday) {\n        this.$refs.ktButton.error(\"请选择生日\");\n        return;\n      }\n\n      if (!this.requestParam.genderCode) {\n        this.$refs.ktButton.error(\"请选择性别\");\n        return;\n      }\n\n      this.$refs.ktButton.loading();\n      console.log(\"上传图片\", this.selectedAvatarPath);\n      await new Promise((resolve, reject) => {\n        this.$kt.request.uploadFile({\n          filePath: this.selectedAvatarPath,\n          name: \"file\",\n          compress: true,\n          formData: {\n            \"groupCode\": \"avatar\"\n          },\n          stateSuccess: (res) => {\n            this.requestParam.fileIdOfAvatar = res.data.id;\n            this.$kt.request.request({\n              url: \"/system-user-web/user/initSelfInfo\",\n              method: \"post\",\n              data: this.requestParam,\n              stateSuccess: (res1) => {\n                this.$refs.ktButton.success('提交成功');\n              }\n            });\n            resolve(res);\n          }\n        });\n      });\n\n    },\n    onBirthdayConfirm(e) {\n      this.requestParam.gmtBirthday = e.value;\n      this.showOfBirthdaySelect = false;\n    },\n    onBirthdayCancel(e) {\n      this.showOfBirthdaySelect = false;\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.box {\n  padding: 60rpx;\n  box-sizing: border-box;\n}\n\n.box-box {\n  padding: 0 60rpx 0 60rpx;\n  box-sizing: border-box;\n}\n\n\n.input-box {\n  border-radius: 60rpx;\n  background-color: #f0f0f0;\n  padding: 20rpx;\n  font-size: 30rpx;\n  text-align: left;\n}\n\n.sex-btn {\n  border: none;\n  background-color: #f0f0f0;\n  border-radius: 500rpx;\n  border: 5rpx solid #f0f0f0;\n  font-weight: bold;\n  text-align: center;\n  padding: 20rpx;\n  font-size: 40rpx;\n}\n\n.sex-btn-active {\n  background-color: #FFFFFF;\n  border: 5rpx solid #333333;\n  box-sizing: border-box;\n  color: #fff;\n}\n\n.box-2{\n  padding: 10rpx 20rpx 20rpx 20rpx;\n  box-sizing: border-box;\n  font-size: 28rpx;\n  color: #666666;\n  // 文字间距\n  letter-spacing: 2rpx;\n}\n\n.text-ellipsis{\n  // 文字超出显示省略号\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  // 文字间距\n  letter-spacing: 2rpx;\n}\n\n\n.back-info{\n  position: absolute;\n  top: 0;\n  left:0;\n  width: 100%;\n  height: 525rpx;\n  z-index: -1;\n\n  .back-info-img{\n    width: 100%;\n    height: 100%;\n  }\n}\n\n\n</style>\n","import mod from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./init.vue?vue&type=style&index=0&id=71ad41f4&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Application\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./init.vue?vue&type=style&index=0&id=71ad41f4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1701587598521\n      var cssReload = require(\"D:/Application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}