(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/init/components/AvatarSelect"],{2224:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var r=function(){var t=this.$createElement,e=(this._self._c,this.selectedAvatarPath?null:this.$kt.file.byPath("icon/mine.svg")),a=this.$kt.file.byPath("icon/changeWhite.svg");this.$mp.data=Object.assign({},{$root:{g0:e,g1:a}})},n=[]},4068:function(t,e,a){},"75c1":function(t,e,a){"use strict";a.r(e);var r=a("2224"),n=a("9b0e");for(var l in n)["default"].indexOf(l)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(l);a("9966");var d=a("f0c5"),i=Object(d["a"])(n["default"],r["b"],r["c"],!1,null,"1b9fa276",null,!1,r["a"],void 0);e["default"]=i.exports},9966:function(t,e,a){"use strict";var r=a("4068"),n=a.n(r);n.a},"9b0e":function(t,e,a){"use strict";a.r(e);var r=a("ddcb"),n=a.n(r);for(var l in r)["default"].indexOf(l)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(l);e["default"]=n.a},ddcb:function(t,e,a){"use strict";(function(t){var r=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("2eee")),l=r(a("c973")),d={props:{genderCode:{type:String,default:""}},data:function(){return{selectedAvatarPath:null,defaultAvatarList:[],defaultAvatarListMale:[],defaultAvatarListFemale:[],defaultAvatarIndex:0,defaultAvatarIndexFemale:0,defaultAvatarIndexMale:0}},created:function(){this.getDefaultAvatarAll()},methods:{onChooseAvatar:function(t){this.selectedAvatarPath=t.detail.avatarUrl,this.$emit("change",this.selectedAvatarPath)},getImageInfo:function(e){return new Promise((function(a,r){t.getImageInfo({src:e,success:function(t){a(t),console.log("获取图片成功",t)},fail:function(t){r(t),console.log("获取图片失败",t)}})}))},updateSelectedAvatarPath:function(t){var e=this;return(0,l.default)(n.default.mark((function a(){return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getImageInfo(e.$kt.request.getRootAddress()+"/system-user-web/defaultAvatar/visit?path="+t).then((function(t){e.selectedAvatarPath=t.path,e.$emit("change",e.selectedAvatarPath)}));case 2:case"end":return a.stop()}}),a)})))()},getDefaultAvatarAll:function(){var t=this;return(0,l.default)(n.default.mark((function e(){return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$request({url:"/system-user-web/defaultAvatar/getAll",method:"post",stateSuccess:function(){var e=(0,l.default)(n.default.mark((function e(a){var r;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.defaultAvatarList=a.data,r=0;r<t.defaultAvatarList.length;r++)t.defaultAvatarList[r].startsWith("/male")&&t.defaultAvatarListMale.push(t.defaultAvatarList[r]),t.defaultAvatarList[r].startsWith("/female")&&t.defaultAvatarListFemale.push(t.defaultAvatarList[r]);t.defaultAvatarList.sort((function(){return.5-Math.random()})),t.defaultAvatarListMale.sort((function(){return.5-Math.random()})),t.defaultAvatarListFemale.sort((function(){return.5-Math.random()})),t.defaultAvatarList&&t.defaultAvatarList.length>0&&t.updateSelectedAvatarPath(t.defaultAvatarList[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})))()},changeDefaultAvatar:function(){return"male"==this.genderCode?(this.defaultAvatarIndexMale++,this.defaultAvatarIndexMale>=this.defaultAvatarListMale.length&&(this.defaultAvatarIndexMale=0),void this.updateSelectedAvatarPath(this.defaultAvatarListMale[this.defaultAvatarIndexMale])):"female"==this.genderCode?(this.defaultAvatarIndexFemale++,this.defaultAvatarIndexFemale>=this.defaultAvatarListFemale.length&&(this.defaultAvatarIndexFemale=0),void this.updateSelectedAvatarPath(this.defaultAvatarListFemale[this.defaultAvatarIndexFemale])):(this.defaultAvatarIndex++,this.defaultAvatarIndex>=this.defaultAvatarList.length&&(this.defaultAvatarIndex=0),void this.updateSelectedAvatarPath(this.defaultAvatarList[this.defaultAvatarIndex]))}},watch:{genderCode:{handler:function(){return"male"==this.genderCode?(this.defaultAvatarIndexMale>=this.defaultAvatarListMale.length&&(this.defaultAvatarIndexMale=0),void this.updateSelectedAvatarPath(this.defaultAvatarListMale[this.defaultAvatarIndexMale])):"female"==this.genderCode?(this.defaultAvatarIndexFemale>=this.defaultAvatarListFemale.length&&(this.defaultAvatarIndexFemale=0),void this.updateSelectedAvatarPath(this.defaultAvatarListFemale[this.defaultAvatarIndexFemale])):void 0},deep:!0,immediate:!0}}};e.default=d}).call(this,a("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/init/components/AvatarSelect-create-component',
    {
        'pages/init/components/AvatarSelect-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("75c1"))
        })
    },
    [['pages/init/components/AvatarSelect-create-component']]
]);
